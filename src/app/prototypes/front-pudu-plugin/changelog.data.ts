import { ChangelogRelease } from '@/shared/changelog.types';

export const CHANGELOG: ChangelogRelease[] = [
  {
    version: '1.8',
    date: '2026-02-18',
    status: 'unreleased',
    changes: [
      {
        page: 'Каталог состояний',
        pageRoute: '/prototype/front-pudu-plugin',
        items: [
          'Секция «Контекст: Главный экран» перемещена выше секции «Контекст: Из заказа»',
          'Добавлены ячейки каталога: «Дополнения → Плагины» и «Команды роботам»',
        ],
      },
      {
        page: 'POS — Главный экран',
        pageRoute: '/prototype/front-pudu-plugin/pos?context=main',
        items: [
          'Три кнопки (Маркетинг, Уборка, Статус роботов) заменены на одну кнопку «Дополнения»',
          'Добавлено окно «Плагины» — сетка прямоугольных кнопок 3×6 (стиль Front)',
          'В окне «Плагины» — кнопки «Pudu: Статус роботов» и «Pudu: Команды»',
          'Добавлено окно «Команды роботам» с кнопками «Уборка (Столы)» и «Маркетинг»',
          'Навигация: Дополнения → Плагины → выбор действия → существующие модалки',
        ],
      },
      {
        page: 'POS — Уборка: флоу выбора робота',
        pageRoute: '/prototype/front-pudu-plugin/pos?context=main',
        items: [
          'В цепочке «Дополнения → Pudu: Команды → Уборка (Столы)» перед выбором столов теперь показывается окно «Выбор робота» (статусы роботов) с кнопкой «Выбрать столы для уборки →»',
          'При клике «Уборка посуды (мультивыбор)» из каталога состояний также первым открывается окно «Выбор робота»',
          'Компонент «Статус роботов» поддерживает кастомный заголовок и подзаголовок через @Input title/subtitle',
          'Добавлена кнопка «Продолжить» (proceedLabel) в компонент «Статус роботов» для перехода к следующему шагу',
          'Исправлен баг: в режиме «Выбор робота» строки таблицы теперь кликабельны — можно выбрать робота нажав на строку',
          'Кнопка «Выбрать столы для уборки →» активна только при выбранном роботе; при неактивной кнопке: текст «Выберите робота выше»',
          'Offline-роботы некликабельны, свободный/занятой — кликабельны; выбранная строка подсвечивается акцентным цветом с галочкой',
        ],
      },
    ],
  },
  {
    version: '1.7',
    date: '2026-02-18',
    status: 'released',
    changes: [
      {
        items: [
          'Исправлено название системы в истории изменений («Front» вместо проприетарного названия)',
        ],
      },
    ],
  },
  {
    version: '1.6',
    date: '2026-02-17',
    status: 'released',
    changes: [
      {
        page: 'Настройки робота',
        pageRoute: '/prototype/front-pudu-plugin/pos',
        items: [
          'Удалены поля «Фраза неудачи» и «Ссылка на фразу неудачи» из настроек сценария уборки (ограничение API: нет ИК-датчиков — используется тайм-аут)',
          'Синхронизация с Admin Panel v1.8',
        ],
      },
    ],
  },
  {
    version: '1.5',
    date: '2026-02-17',
    status: 'released',
    changes: [
      {
        page: 'Выбор робота',
        pageRoute: '/prototype/front-pudu-plugin/pos',
        items: [
          'Двустрочное отображение имени робота: псевдоним + имя в NE (мелким серым)',
          'Утилита форматирования имени робота для единообразия во всех экранах',
        ],
      },
      {
        page: 'Статус робота',
        pageRoute: '/prototype/front-pudu-plugin/pos',
        items: [
          'Двустрочное отображение имени (аналогично экрану выбора)',
        ],
      },
      {
        page: 'Главный экран',
        pageRoute: '/prototype/front-pudu-plugin',
        items: [
          'Баннер раздачи и индикатор маркетинга используют двойное имя робота',
        ],
      },
      {
        items: [
          'Confirm-модалки используют единый формат имени робота',
          'Toast отправки/завершения — формат «Сценарий — Робот — статус»',
          'Mock-данные обновлены: добавлены ne_name и alias для всех роботов',
          'Добавлены 4 новые ячейки в каталог (примеры двойного имени)',
        ],
      },
    ],
  },
  {
    version: '1.4',
    date: '2026-02-16',
    status: 'released',
    changes: [
      {
        page: 'Выбор робота',
        pageRoute: '/prototype/front-pudu-plugin/pos',
        items: [
          'Новое модальное окно выбора робота с 4 состояниями',
          'Повторяющиеся уведомления (E-STOP, OBSTACLE) с бейджем «ПОВТОРНО» и авто-повтором через 3 секунды',
          'Дедупликация задач уборки в смешанном режиме',
        ],
      },
      {
        page: 'Статус робота',
        pageRoute: '/prototype/front-pudu-plugin/pos',
        items: [
          'Новое модальное окно статуса робота',
          'Модальное окно завершения задачи',
        ],
      },
      {
        page: 'Главный экран',
        pageRoute: '/prototype/front-pudu-plugin',
        items: [
          'Контекст: статус робота и уведомления при запуске',
          'Fire-and-forget паттерн: 6 цепочек обновлены, 2 новых добавлены',
        ],
      },
      {
        items: [
          'Расширена тёмная тема POS: новые UI-паттерны',
          'Зарегистрированы новые иконки (Send, Activity)',
          'Добавлены 8 ячеек в каталог и 8 сценарных цепочек',
        ],
      },
    ],
  },
  {
    version: '1.0',
    date: '2026-02-16',
    status: 'released',
    changes: [
      {
        items: [
          'Начальная версия прототипа',
          'Плагин PUDU для Front',
          'Экраны управления роботами из Front-интерфейса',
        ],
      },
    ],
  },
];
