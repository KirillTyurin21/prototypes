# Промт для веб-прототипа: Панель администрирования роботов PUDU в iikoWeb

---
**Версия**: 1.1
**Дата**: 2026-02-11
**Автор**: Кирилл Тюрин (системный аналитик)
**Статус**: [PENDING]
**Артефакт**: Д3 (Промт для веб-прототипа iikoWeb)
**Источники**: SPEC-002 v1.1; STYLE_GUIDE.md; Промт_прототипа_Admin_панели.md (эталон); План работ (Б7)
---

## Назначение прототипа

Функциональный веб-прототип для **демонстрации** руководителю интеграционных решений (Руслан, iiko) и заказчику (Next Era). Прототип показывает реальную навигацию, формы, состояния и визуальный стиль панели администрирования роботов PUDU в iikoWeb. Это **не production-код**, но должен быть убедительным и реалистичным.

**Целевая аудитория демо**: руководство iiko + заказчик NE.

---

## Описание проекта

Создай полнофункциональную веб-панель администрирования роботов PUDU для POS-системы ресторана iiko. Это **Next.js 15+** приложение с **React 19+** и **Tailwind CSS v4**, использующее компоненты **shadcn/ui**. Приложение представляет собой раздел «Роботы PUDU» в системе iiko Web, где администратор ресторана регистрирует роботов, настраивает маппинг столов к точкам робота и конфигурирует сценарии работы.

Все данные хранятся в клиентском state (mock). Все тексты — на **русском языке**.

> **Примечание о правах доступа**: В production-системе экраны разграничиваются ролями `PUDU_VIEW` (только просмотр) и `PUDU_EDIT` (полный доступ). В прототипе права не реализованы — все функции доступны по умолчанию (эквивалент `PUDU_EDIT`).

---

## 1. Дизайн и стиль

> **КРИТИЧЕСКИ ВАЖНО**: Стиль строится на нейтральных серых тонах с цветными акцентами только для статусов и действий. Чистый корпоративный вид системы iiko.

### 1.1. Цветовая схема

| Токен                | Tailwind                                                 | Применение                           |
| -------------------- | -------------------------------------------------------- | ------------------------------------ |
| Фон страницы         | `bg-gray-50`                                             | Основной фон контентной области      |
| Фон карточек, header | `bg-white`                                               | Карточки, модалки, header, subheader |
| Фон sidebar          | `bg-slate-50`                                            | Чуть отличается от контента          |
| Основной текст       | `text-gray-900`                                          | Заголовки H1, H2                     |
| Вторичный текст      | `text-gray-800` / `text-gray-700`                        | Labels, пункты меню, текст в дереве  |
| Мета-текст           | `text-gray-500`                                          | Описания, подсказки                  |
| Плейсхолдеры         | `text-gray-400`                                          | Пустые состояния, плейсхолдеры       |
| Бордюры layout       | `border-gray-200`                                        | Разделители (header, sidebar, строки таблиц) |
| Бордюры инпутов      | `border-gray-300`                                        | Граница полей ввода (input, select)  |
| Hover                | `bg-gray-100`                                            | Наведение на элементы                |
| Selected-фон         | `bg-blue-50`                                             | Выделенный элемент (без смены цвета текста) |
| Активный пункт sidebar | `bg-blue-50 text-blue-700`                             | Текущий раздел навигации              |
| Логотип iiko         | `text-[#E94B35]`                                         | Красный акцент логотипа              |
| Focus ring           | `focus:border-blue-500 focus:ring-1 focus:ring-blue-500` | Фокус на инпутах                     |

### 1.2. Статусные цвета

| Статус                    | Иконка Lucide    | Цвет              | Применение                        |
| ------------------------- | ---------------- | ----------------- | --------------------------------- |
| Online / Настроено        | `check-circle-2` | `text-green-600`  | Робот в сети, стол замаплен       |
| Частично / Предупреждение | `alert-circle`   | `text-orange-500` | Ошибка подключения                |
| Offline / Не настроено    | `circle`         | `text-gray-300`   | Робот не в сети, стол не замаплен |
| Warning-блок              | `alert-triangle` | `text-orange-500` | Информационные предупреждения     |
| Ошибка текст              | —                | `text-red-600`    | Сообщения об ошибках валидации    |
| Ошибка бордюр             | —                | `border-red-500`  | Поля с ошибкой                    |

### 1.3. Типографика

| Уровень        | Классы                                   | Контекст                                |
| -------------- | ---------------------------------------- | --------------------------------------- |
| H1             | `text-2xl font-semibold text-gray-900`   | Заголовок в subheader                   |
| H2             | `text-xl font-semibold text-gray-900`    | Заголовок секции                        |
| H3             | `text-lg font-semibold text-gray-900`    | Подсекция (фаза «Кассир», «Гость»)      |
| H4             | `text-base font-semibold text-gray-900`  | Заголовок warning-карточки              |
| Card title     | `text-base font-medium text-gray-800`    | Название устройства / карточки          |
| Section label  | `text-sm font-semibold text-gray-500`    | Мета-заголовок группы                   |
| Body           | `text-sm text-gray-700`                  | Элементы меню, основной текст           |
| Подпись        | `text-sm text-gray-500`                  | Описания под формами, секциями          |
| Hint/подсказка | `text-xs text-gray-400`                  | Подсказки под полями, счётчики символов |
| Ошибка         | `text-sm text-red-600`                   | Валидация                               |
| Моноширинный   | `font-mono`                              | ID робота, серийные номера              |
| Курсив         | `italic text-gray-400`                   | Опция «Не назначена» в select           |

### 1.4. Шрифты

```
Основной: Geist (sans-serif)
Моноширинный: Geist Mono
```

### 1.5. Spacing-система

| Контекст                      | Значение                         |
| ----------------------------- | -------------------------------- |
| Header padding                | `px-4`                           |
| Sidebar                       | `p-2`, пункт: `px-3 py-2`        |
| Subheader                     | `px-6 py-4`                      |
| Content area                  | `p-6`                            |
| Основные секции контента      | `space-y-6` (24px)               |
| Подсекции                     | `space-y-4` (16px)               |
| Элементы внутри секции        | `space-y-3` (12px)               |
| Поля формы                    | `space-y-2` (8px)                |
| Элементы списка               | `space-y-1` (4px)                |
| Мелкие группы (иконка + текст)| `gap-2`                          |
| Кнопки действий               | `gap-3`                          |
| Warning-карточка              | `p-5`, gap иконка-текст: `gap-3` |

---

## 2. Структура приложения и компоненты

### 2.1. Каркас layout (общий для всех страниц)

```
┌─────────────────────────────────────────────────────────┐
│  HEADER  (h-14, border-b, bg-white)                     │
│  [Логотип iiko]                    [Поиск] [Профиль ▼]  │
├─────────┬───────────────────────────────────────────────┤
│ SIDEBAR │  SUBHEADER (border-b, bg-white, px-6 py-4)   │
│ (w-52)  │  [H1 «Заголовок»]     [Кнопки действий]     │
│         │  ────────────────────────────────────────────  │
│         │  CONTENT AREA (bg-gray-50, p-6)              │
│ Роботы  │                                               │
│ PUDU    │  Контент экрана                               │
│         │  (таблица / форма / вкладки)                  │
│ Маппинг │                                               │
│ столов  │                                               │
│         │                                               │
│ Настрой-│                                               │
│ ки      │                                               │
│ роботов │                                               │
└─────────┴───────────────────────────────────────────────┘
```

### 2.2. Фиксированные размеры

| Элемент             | Tailwind                 | Пиксели                       |
| ------------------- | ------------------------ | ----------------------------- |
| Header высота       | `h-14`                   | 56 px                         |
| Sidebar ширина      | `w-52`                   | 208 px                        |
| Content area height | `h-[calc(100vh-8.5rem)]` | viewport - header - subheader |
| Ширина форм         | `max-w-2xl`              | 672 px                        |
| Инпут высота        | `h-9`                    | 36 px                         |

---

## 3. Компоненты layout

### 3.1. Header (components/layout/header.tsx)

```html
<header class="border-b border-gray-200 bg-white h-14 flex items-center gap-4 px-4 shrink-0">
  <!-- Логотип iiko SVG слева, text-[#E94B35] -->
  <!-- ml-auto: кнопки поиска и профиля -->
  <!-- Кнопка профиля: иконка user + текст "Администратор" -->
</header>
```

- Логотип iiko — SVG, красный `text-[#E94B35]`
- Справа: кнопка профиля (ghost, sm) с иконкой `user` и текстом «Администратор»
- Без кнопки поиска (не нужна для прототипа PUDU)

### 3.2. Sidebar (components/layout/sidebar.tsx)

```html
<aside class="w-52 border-r border-gray-200 bg-slate-50 shrink-0 flex flex-col">
  <nav class="space-y-1 p-2 flex-1">
    <!-- Отображаются ТОЛЬКО 3 пункта группы PUDU -->
  </nav>
  <div class="p-3 text-xs text-gray-400 border-t border-gray-200">
    © 2026 iiko / ver: 9.6.1.240000
  </div>
</aside>
```

**Пункты sidebar (3 штуки):**

| #   | Иконка Lucide | Текст             | Route       | Описание                |
| --- | ------------- | ----------------- | ----------- | ----------------------- |
| 1   | `bot`         | Роботы PUDU       | `/robots`   | Список роботов          |
| 2   | `map-pin`     | Маппинг столов    | `/mapping`  | Маппинг столов к точкам |
| 3   | `settings`    | Настройки роботов | `/settings` | Настройки сценариев     |

**Стилизация пункта:**
- Активный: `bg-blue-50 text-blue-700 font-medium rounded px-3 py-2`
- Неактивный: `text-gray-600 hover:bg-gray-100 rounded px-3 py-2 transition-colors`
- Иконка: `size={18}`, `mr-3`

### 3.3. Subheader (в каждой странице)

```html
<div class="border-b border-gray-200 bg-white px-6 py-4 shrink-0">
  <div class="flex items-center justify-between gap-4">
    <h1 class="text-2xl font-semibold text-gray-900">{Заголовок}</h1>
    <!-- Справа: кнопки действий -->
  </div>
</div>
```

---

## 4. Структуры данных (TypeScript интерфейсы)

```typescript
// Робот PUDU
interface Robot {
  id: string;                    // "PD2024060001"
  name: string;                  // "BellaBot-01"
  server_region: "EU" | "ASIA";
  secret_key: string;            // "sk_xxxxxxxxxxxx"
  connection_status: "online" | "offline" | "error";
  active_map_name: string;       // "Зал 1 этаж"
}

// Точка на карте робота
interface RobotPoint {
  point_id: string;              // "pt-001"
  point_name: string;            // "Стол у окна"
  point_type: "table" | "pickup" | "sink" | "parking" | "charging";
}

// Стол iiko
interface IikoTable {
  table_id: string;              // "tbl-001"
  table_name: string;            // "Стол №1"
  section_name: string;          // "Зал 1 этаж"
}

// Маппинг столов к точкам
interface TableMapping {
  table_id: string;
  points: RobotPoint[];          // Один стол → несколько точек (1:N)
}

// Настройки сценариев
interface ScenarioSettings {
  send_menu: {
    phrase: string;              // max 180 символов
    wait_time: number;           // секунды
    after_action: "idle" | "marketing";
  };
  send_dish: {
    max_dishes_per_trip: number; // 1–20
    phrase_delivery: string;     // max 180
    phrase_dishes_info: string;  // max 180
    phrase_tray: string;         // max 180
    wait_time: number;
    after_action: "idle" | "marketing";
  };
  cleanup: {
    mode: "manual" | "auto";
    phrase_arrival: string;      // max 180
    wait_time: number;
    phrase_later: string;        // max 180
    auto_timer_after_delivery: number; // минуты (default 12)
    auto_timer_after_check: number;    // минуты
  };
  qr_payment: {
    cashier_phrase: string;      // max 180
    cashier_timeout: number;     // секунды
    guest_wait_time: number;     // секунды
    phrase_success: string;      // max 180
    phrase_failure: string;      // max 180
    after_action: "idle" | "marketing";
  };
  marketing: {
    robot_id: string;
    auto_cruise_on_idle: boolean;
    timer_enabled: boolean;
    timer_start: string;         // "HH:MM"
    timer_end: string;           // "HH:MM"
  };
  general: {
    default_robot_id: string;
  };
}
```

---

## 5. Mock-данные (реалистичные для демонстрации)

### 5.1. Роботы

```typescript
const mockRobots: Robot[] = [
  {
    id: "PD2024060001",
    name: "BellaBot-01",
    server_region: "EU",
    secret_key: "sk_ne_bella01_2024",
    connection_status: "online",
    active_map_name: "Зал 1 этаж"
  },
  {
    id: "PD2024080042",
    name: "Ketty-02",
    server_region: "EU",
    secret_key: "sk_ne_ketty02_2024",
    connection_status: "offline",
    active_map_name: "Зал 2 этаж"
  },
  {
    id: "PD2025010007",
    name: "BellaBot-03",
    server_region: "ASIA",
    secret_key: "sk_ne_bella03_2025",
    connection_status: "online",
    active_map_name: "Зал VIP"
  }
];
```

### 5.2. Точки робота (BellaBot-01, карта «Зал 1 этаж»)

```typescript
const mockPointsBella01: RobotPoint[] = [
  { point_id: "pt-001", point_name: "Стол у окна", point_type: "table" },
  { point_id: "pt-002", point_name: "Стол 2", point_type: "table" },
  { point_id: "pt-003", point_name: "Стол 3 (VIP)", point_type: "table" },
  { point_id: "pt-004", point_name: "Стол 4 (бар)", point_type: "table" },
  { point_id: "pt-005", point_name: "Стол 5", point_type: "table" },
  { point_id: "pt-006", point_name: "Стол 6 (терраса)", point_type: "table" },
  { point_id: "pt-010", point_name: "Раздача кухни", point_type: "pickup" },
  { point_id: "pt-011", point_name: "Раздача бар", point_type: "pickup" },
  { point_id: "pt-020", point_name: "Мойка основная", point_type: "sink" },
  { point_id: "pt-030", point_name: "Зона ожидания (вход)", point_type: "parking" },
  { point_id: "pt-040", point_name: "Зарядная станция", point_type: "charging" }
];
```

### 5.3. Столы iiko

```typescript
const mockTables: IikoTable[] = [
  { table_id: "tbl-001", table_name: "Стол №1", section_name: "Зал 1 этаж" },
  { table_id: "tbl-002", table_name: "Стол №2", section_name: "Зал 1 этаж" },
  { table_id: "tbl-003", table_name: "Стол №3 (VIP)", section_name: "Зал 1 этаж" },
  { table_id: "tbl-004", table_name: "Стол №4 (бар)", section_name: "Зал 1 этаж" },
  { table_id: "tbl-005", table_name: "Стол №5", section_name: "Зал 1 этаж" },
  { table_id: "tbl-006", table_name: "Стол №6 (терраса)", section_name: "Зал 1 этаж" },
  { table_id: "tbl-007", table_name: "Стол №7", section_name: "Зал 1 этаж" },
  { table_id: "tbl-008", table_name: "Стол №8", section_name: "Зал 1 этаж" }
];
```

### 5.4. Маппинг (предзаполненный)

```typescript
const mockMapping: TableMapping[] = [
  { table_id: "tbl-001", points: [mockPointsBella01[0]] },                    // Стол №1 → Стол у окна
  { table_id: "tbl-002", points: [mockPointsBella01[1]] },                    // Стол №2 → Стол 2
  { table_id: "tbl-003", points: [mockPointsBella01[2], mockPointsBella01[6]] }, // Стол №3 (VIP) → Стол 3 (VIP) + Раздача кухни
  { table_id: "tbl-004", points: [mockPointsBella01[3]] },                    // Стол №4 (бар) → Стол 4 (бар)
  { table_id: "tbl-005", points: [] },                                         // Стол №5 → НЕ ЗАМАПЛЕН
  { table_id: "tbl-006", points: [mockPointsBella01[5]] },                    // Стол №6 (терраса) → Стол 6 (терраса)
  { table_id: "tbl-007", points: [] },                                         // Стол №7 → НЕ ЗАМАПЛЕН
  { table_id: "tbl-008", points: [] }                                          // Стол №8 → НЕ ЗАМАПЛЕН
];
```

### 5.5. Настройки сценариев (предзаполненные)

```typescript
const mockSettings: ScenarioSettings = {
  send_menu: {
    phrase: "Заберите, пожалуйста, меню",
    wait_time: 30,
    after_action: "idle"
  },
  send_dish: {
    max_dishes_per_trip: 6,
    phrase_delivery: "Ваш заказ прибыл! Приятного аппетита!",
    phrase_dishes_info: "На подносе: блюда для стола",
    phrase_tray: "Пожалуйста, заберите блюда с подноса",
    wait_time: 45,
    after_action: "idle"
  },
  cleanup: {
    mode: "manual",
    phrase_arrival: "Пожалуйста, поставьте грязную посуду на поднос",
    wait_time: 60,
    phrase_later: "Я приеду позже за посудой",
    auto_timer_after_delivery: 12,
    auto_timer_after_check: 3
  },
  qr_payment: {
    cashier_phrase: "Положите чек для стола N",
    cashier_timeout: 30,
    guest_wait_time: 120,
    phrase_success: "Спасибо за оплату!",
    phrase_failure: "К сожалению, оплата не прошла. Обратитесь к официанту",
    after_action: "idle"
  },
  marketing: {
    robot_id: "PD2024060001",
    auto_cruise_on_idle: false,
    timer_enabled: false,
    timer_start: "11:00",
    timer_end: "14:00"
  },
  general: {
    default_robot_id: "PD2024060001"
  }
};
```

---

## 6. Экраны прототипа

### 6.1. Экран Э1 — Список роботов (app/robots/page.tsx)

**Приоритет**: **Must**

**Subheader:**
- H1: **«Роботы PUDU»**
- Кнопка справа: **«Добавить робота»** (primary, иконка `plus`, size sm)

**Контент: таблица роботов**

| #   | Столбец        | Тип данных | Стилизация                                           |
| --- | -------------- | ---------- | ---------------------------------------------------- |
| 1   | Имя робота     | string     | Обычный текст `text-sm text-gray-900`                |
| 2   | ID робота      | string     | `font-mono text-sm text-gray-600`                    |
| 3   | Регион         | string     | Текст «EU» или «ASIA»                                |
| 4   | Статус         | Badge      | См. ниже                                             |
| 5   | Активная карта | string     | `text-sm text-gray-700`                              |
| 6   | Действия       | Кнопка     | «Удалить» (ghost, danger, иконка `trash-2`, size sm) |

**Бейджи статуса подключения:**

| Статус    | Иконка           | Цвет              | Текст       |
| --------- | ---------------- | ----------------- | ----------- |
| `online`  | `check-circle-2` | `text-green-600`  | «В сети»    |
| `offline` | `circle`         | `text-gray-300`   | «Не в сети» |
| `error`   | `alert-circle`   | `text-orange-500` | «Ошибка»    |

**Стилизация таблицы:**
- Фон: `bg-white`, border: `border border-gray-200`, `rounded-lg`
- Header строка: `bg-gray-50 text-xs font-medium text-gray-500 uppercase`
- Строки: `border-b border-gray-200`, `hover:bg-gray-50`, `transition-colors`
- Последняя строка: без `border-b`

**Состояния экрана:**

| Состояние     | Триггер            | UI                                                                                                                           |
| ------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| **Пустое**    | 0 роботов          | Серый текст по центру `text-gray-400 text-sm`: **«Роботы не зарегистрированы. Нажмите "Добавить робота" для начала работы»** |
| **Загрузка**  | Начальная загрузка | Спиннер `loader-2` по центру (`animate-spin text-gray-400`, size 32)                                                         |
| **С данными** | Роботы загружены   | Таблица с `animate-fade-in`                                                                                                  |
| **Ошибка**    | API ошибка         | Alert (красный): **«Не удалось загрузить список роботов. Попробуйте обновить страницу»**                                     |

**Действие «Удалить»:**
1. Клик → Confirm Dialog:
   - Заголовок: **«Удалить робота»**
   - Текст: **«Удалить робота {name}? Все настройки маппинга для этого робота будут потеряны.»**
   - Кнопки: **«Удалить»** (destructive) / **«Отмена»** (outline)
2. Подтверждение → Робот удаляется из state → Toast: **«Робот удалён»** (3 сек)

**Интерактивность прототипа:**
- Кнопка «Добавить робота» → открывает модальное окно Э2
- Кнопка «Удалить» → Confirm dialog → удаление из state → Toast
- При запуске: показать состояние «Загрузка» (1 сек), затем отобразить таблицу с `animate-fade-in`

---

### 6.2. Экран Э2 — Регистрация робота (components/robot-register-modal.tsx)

**Приоритет**: **Must**

**Тип**: Модальное окно (Dialog / Sheet), вызывается из Э1.

**Заголовок модалки:** **«Регистрация робота»**

**Поля формы (внутри `space-y-4`):**

| #   | Label          | Контрол              | Обязательное | Placeholder             | Подсказка (text-xs text-gray-400)                                   | Валидация                             |
| --- | -------------- | -------------------- | ------------ | ----------------------- | ------------------------------------------------------------------- | ------------------------------------- |
| 1   | Регион сервера | Select               | Да           | —                       | «Регион облака PUDU, к которому подключён робот»                    | enum: EU, ASIA. Default: **EU**       |
| 2   | Имя робота     | Input (text)         | Да           | «Например: BellaBot-01» | «Произвольное имя для идентификации робота (например, BellaBot-01)» | max 64 символа, непустое              |
| 3   | ID робота      | Input (text)         | Да           | «Серийный номер PUDU»   | «Серийный номер робота из системы PUDU»                             | Формат серийного номера, уникальность |
| 4   | Секретный ключ | Input (**password**) | Да           | «Ключ API»              | «Ключ доступа к API PUDU (предоставляется NE)»                      | Непустое                              |

- Все labels: `text-sm font-medium text-gray-700`
- Обязательные поля: красная звёздочка `*` рядом с label (`text-red-500`)
- Подсказки: `text-xs text-gray-400 mt-1`
- Select «Регион»: опции `EU` и `ASIA`

**Footer модалки:**
- Слева: **«Отмена»** (ghost)
- Справа: **«Зарегистрировать»** (primary, disabled когда не все поля заполнены)

**Состояния формы:**

| Состояние             | UI                                                                                                                                     |
| --------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| **Начальное**         | Select = EU, остальные поля пусты. Кнопка «Зарегистрировать» — `disabled`                                                              |
| **Заполнение**        | Кнопка active/disabled по мере заполнения. Валидация в реальном времени (красная рамка `border-red-500` + текст `text-red-600` под полем) |
| **Отправка**          | Кнопка → loading (спиннер). Все поля — `disabled`                                                                                      |
| **Успех**             | Toast: **«Робот успешно зарегистрирован»** (3 сек). Модалка закрывается. Таблица обновляется                                           |
| **Ошибка: не найден** | Alert (**destructive**) под полями: **«Робот не найден в системе PUDU. Обратитесь к специалистам NE для добавления робота в магазин»** |
| **Ошибка: дубликат**  | Alert: **«Робот с таким ID уже зарегистрирован»**. Поле ID: `border-red-500`                                                           |
| **Ошибка: сеть**      | Alert: **«Не удалось подключиться к серверу. Проверьте соединение»**                                                                   |
| **Ошибка: 400**       | Alert: **«Ошибка запроса. Проверьте введённые данные»**                                                                                |
| **Ошибка: 500**       | Alert: **«Ошибка сервера. Попробуйте позже»**                                                                                          |

**Интерактивность прототипа:**
- Реальная валидация полей в реальном времени с подсветкой ошибок (красная рамка `border-red-500` + текст `text-red-600` под полем при вводе)
- При вводе ID = `PD000ERROR` → имитация ошибки «не найден»
- При вводе ID = `PD2024060001` (уже есть) → имитация ошибки «дубликат»
- Любой другой ID → успешная регистрация с добавлением в state
- Имитация задержки 1.5 сек при отправке (loading-состояние)

---

### 6.3. Экран Э3 — Маппинг столов к точкам (app/mapping/page.tsx)

**Приоритет**: **Must**

**Subheader:**
- H1: **«Маппинг столов»**
- Справа:
  - Select робота (если роботов > 1): показывает `name` робота. По умолчанию — первый online робот
  - Кнопка **«Обновить точки»** (ghost, иконка `refresh-cw`, size sm). При клике: иконка `animate-spin` 1.5 сек → Toast **«Список точек обновлён»**

**Контент: таблица маппинга**

| #   | Столбец           | Описание                      | Стилизация                                                                    |
| --- | ----------------- | ----------------------------- | ----------------------------------------------------------------------------- |
| 1   | Стол iiko         | Название стола + section_name | `text-sm text-gray-900`, секция `text-xs text-gray-500`                       |
| 2   | Привязанные точки | 1–N select'ов с точками       | Каждый select — строка. Кнопка `x` у каждого для удаления                     |
| 3   | Тип точки         | Badge по point_type           | См. цвета ниже                                                                |
| 4   | Статус            | Иконка                        | `check-circle-2 text-green-600` замаплен / `circle text-gray-300` не замаплен |
| 5   | Действия          | Кнопки                        | «+ Точку» (ghost, sm), «Тест» (outline, sm) — кнопка **у каждой привязанной точки** |

**Бейджи типов точек:**

| point_type | Текст            | Цвет                           |
| ---------- | ---------------- | ------------------------------ |
| `table`    | Стол             | `bg-blue-50 text-blue-700`     |
| `pickup`   | Станция выдачи   | `bg-green-50 text-green-700`   |
| `sink`     | Мойка            | `bg-gray-100 text-gray-700`    |
| `parking`  | Зона ожидания    | `bg-gray-100 text-gray-700`    |
| `charging` | Зарядная станция | `bg-yellow-50 text-yellow-700` |

**Предупреждения (перед таблицей):**

| Условие                 | Стилизация                                                                                  | Текст                                                                                              |
| ----------------------- | ------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| Есть столы без привязки | `border-orange-200 bg-orange-50/50 rounded-lg p-5`, иконка `alert-triangle text-orange-500` | **«{N} столов не имеют привязки к точкам робота. Робот не сможет доставить заказ к этим столам.»** |
| Есть точки без стола    | `border-blue-200 bg-blue-50/50 rounded-lg p-5`, иконка `info text-blue-500`                 | **«{N} точек робота не привязаны к столам iiko»**                                                  |

**Sticky footer (под таблицей):**
- **«Сохранить»** (primary) — disabled если нет изменений. Клик → Toast **«Маппинг сохранён»** (3 сек)
- **«Сбросить»** (outline) — disabled если нет изменений. Клик → откат к последним сохранённым

**Тестовая команда (кнопка «Тест» у каждой привязанной точки):**

> **Важно**: кнопка «Тест» располагается рядом с **каждой привязанной точкой**, а не на уровне строки стола. При 1:N маппинге тестируется конкретная точка (`target_point_id`), а не весь стол целиком.**
1. Активна если стол замаплен (есть хотя бы 1 точка)
2. Disabled если не замаплен → tooltip **«Стол не привязан к точке»**
3. Клик → кнопка loading (спиннер animate-spin, 2 сек)
4. Результат: иконка `check-circle-2 text-green-600` (успех) или `x-circle text-red-600` (ошибка) — отображается 3 секунды
5. Для прототипа: все тесты → успех, кроме офлайн-робота → Toast **«Робот не в сети. Проверьте подключение робота»**
6. **Disabled** если выбран offline-робот → tooltip **«Робот не в сети»**

**Состояния экрана:**

| Состояние            | UI                                                                                                                                                                                  |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Нет робота**       | Текст по центру `text-gray-400`: **«Зарегистрируйте робота для настройки маппинга»** + ссылка «Перейти к роботам»                                                                   |
| **Загрузка**         | Спиннер `loader-2` по центру                                                                                                                                                        |
| **Нет точек**        | UiAlert (красный): **«На карте робота нет точек. Обратитесь к инженеру PUDU для настройки карты зала»**                                                                             |
| **Точки загружены**  | Таблица маппинга с `animate-fade-in` + предупреждения, если есть                                                                                                                    |
| **Точки изменились** | UiAlert (orange): **«Список точек обновлён. Проверьте маппинг — некоторые привязки могли стать недействительными»** (появляется после sync-points, если привязки стали невалидными) |

**Интерактивность прототипа:**
- Select робота → при переключении загрузить другой набор точек (имитация 1 сек)
- «+ Точку» → добавить ещё один select в строку
- `x` у точки → удалить привязку
- Кнопка «Тест» у каждой привязанной точки → имитация выполнения (отправка робота к конкретной `target_point_id`)
- «Обновить точки» → спиннер → Toast
- «Сохранить» / «Сбросить» → стандартное поведение
- Предупреждения пересчитываются автоматически при изменении маппинга

---

### 6.4. Экран Э4 — Настройки сценариев (app/settings/page.tsx)

**Приоритет**: **Must** (вкладки 1–3), **Should** (вкладки 4–6)

**Subheader:** H1 — **«Настройки роботов»**

**Контент**: вкладки (Tabs), визуально — горизонтальные табы.

**Всё содержимое вкладок** ограничено `max-w-2xl`, секции `space-y-6`.

**Sticky footer (общий для всех вкладок):**
- **«Сохранить»** (primary, иконка `save`) — disabled если нет изменений
- **«Сбросить»** (outline) — disabled если нет изменений
- Сохранение → Toast **«Изменения сохранены»** (3 сек)
- Смена вкладки с несохранёнными данными → Confirm Dialog:
  - Текст: **«Несохранённые изменения. Сохранить перед переходом?»**
  - Кнопки: **«Сохранить»** / **«Не сохранять»** / **«Отмена»**

---

#### Вкладка 1: Доставка меню (send_menu) — **Must**

Название вкладки: **«Доставка меню»**

| #   | Label                        | Контрол        | Обязательное | Default                      | Подсказка                                                        | Валидация                  |
| --- | ---------------------------- | -------------- | ------------ | ---------------------------- | ---------------------------------------------------------------- | -------------------------- |
| 1   | Фраза робота при доставке    | Input (text)   | Нет          | «Заберите, пожалуйста, меню» | «Фраза, которую робот произнесёт у стола. Максимум 180 символов» | max 180 символов           |
| 2   | Время ожидания у стола (сек) | Input (number) | Нет          | 30                           | «Сколько секунд робот ожидает у стола»                           | > 0, целое, диапазон 1–600 |
| 3   | Действие после выполнения    | Select         | Нет          | Режим ожидания               | «Что делает робот после завершения задачи»                       | —                          |

**Select «Действие после выполнения»:**
- Опция 1: **«Режим ожидания»** (value: `idle`)
- Опция 2: **«Маркетинг»** (value: `marketing`)

**Счётчик символов фразы**: `text-xs text-gray-400` под полем, формат **«45 / 180»**. При >180: `border-red-500` на поле, текст **«Превышен лимит 180 символов»** (`text-sm text-red-600`)

---

#### Вкладка 2: Доставка блюд (send_dish) — **Must**

Название вкладки: **«Доставка блюд»**

| #   | Label                        | Контрол        | Обязательное | Default        | Подсказка                                                 | Валидация             |
| --- | ---------------------------- | -------------- | ------------ | -------------- | --------------------------------------------------------- | --------------------- |
| 1   | Макс. блюд за рейс           | Input (number) | **Да**       | 6              | «Максимальное количество блюд за один рейс (не более 20)» | > 0, целое, **<= 20** |
| 2   | Фраза при доставке           | Input (text)   | Нет          | —              | «Фраза робота при подъезде к столу с блюдами»             | max 180               |
| 3   | Погружаемая фраза про блюда  | Input (text)   | Нет          | —              | «Информационная фраза о доставляемых блюдах»              | max 180               |
| 4   | Фраза про поднос для клиента | Input (text)   | Нет          | —              | «Фраза-инструкция для клиента по использованию подноса»   | max 180               |
| 5   | Время ожидания у стола (сек) | Input (number) | Нет          | 45             | «Сколько секунд робот ожидает у стола»                    | > 0, целое            |
| 6   | Действие после задачи        | Select         | Нет          | Режим ожидания | «Что делает робот после завершения доставки»              | —                     |

Ошибки:
- > 20 → `border-red-500`, **«Максимум 20 блюд за один рейс»**
- <= 0 → **«Значение должно быть больше 0»**

---

#### Вкладка 3: Уборка посуды (cleanup) — **Must**

Название вкладки: **«Уборка посуды»**

**Переключатель режима (вверху вкладки):**
- Toggle / Switch с подписями: **«Ручной»** / **«Авто»**
- Default: **Ручной**
- Стилизация: стандартный Switch из shadcn/ui с текстовыми подписями слева и справа

**Общие поля (видны всегда):**

| #   | Label                        | Контрол        | Default | Подсказка                                                           | Валидация |
| --- | ---------------------------- | -------------- | ------- | ------------------------------------------------------------------- | --------- |
| 1   | Фраза при подъезде к столу   | Input (text)   | —       | «Фраза робота при прибытии к столу для уборки»                      | max 180   |
| 2   | Время ожидания у стола (сек) | Input (number) | 60      | «Сколько секунд робот ожидает, пока гость положит посуду»           | > 0       |
| 3   | Фраза «приеду позже»         | Input (text)   | —       | «Фраза, если гость не положил посуду по истечении времени ожидания» | max 180   |

**Поля авто-режима (появляются с `animate-fade-in` при переключении на «Авто»):**

Секция с H3: **«Автоматический режим»**, `space-y-4`

| #   | Label                             | Контрол        | Default | Подсказка                                                                     | Валидация    |
| --- | --------------------------------- | -------------- | ------- | ----------------------------------------------------------------------------- | ------------ |
| 4   | Таймер после доставки блюда (мин) | Input (number) | **12**  | «Через сколько минут после доставки блюда робот приедет для уборки»           | > 0, минуты  |
| 5   | Таймер после закрытия чека (мин)  | Input (number) | —       | «Через сколько минут после закрытия чека робот приедет для уборки. 0 — сразу» | >= 0, минуты |

Под полем 4: подсказка *курсивом* `italic text-xs text-gray-400`: **«Рекомендуемое: 12–14 мин»**

---

#### Вкладка 4: Оплата по QR (qr_payment) — **Should**

Название вкладки: **«Оплата по QR»**

**Две визуальные секции с H3-заголовками, каждая в `space-y-4`:**

**Секция 1: H3 «Фаза: Кассир»**

| #   | Label                             | Default                    | Подсказка                                                                        | Валидация |
| --- | --------------------------------- | -------------------------- | -------------------------------------------------------------------------------- | --------- |
| 1   | Фраза у кассира                   | «Положите чек для стола N» | «Фраза робота при прибытии к кассиру для получения чека»                         | max 180   |
| 2   | Тайм-аут ожидания у кассира (сек) | 30                         | «Сколько секунд робот ожидает укладки чека. По истечении робот уезжает без чека» | > 0       |

**Секция 2: H3 «Фаза: Гость»**

| #   | Label                       | Default              | Подсказка                                                | Валидация |
| --- | --------------------------- | -------------------- | -------------------------------------------------------- | --------- |
| 3   | Время ожидания оплаты (сек) | 120                  | «Сколько секунд робот ожидает оплату у стола гостя»      | > 0       |
| 4   | Фраза при успешной оплате   | «Спасибо за оплату!» | «Фраза робота после подтверждения оплаты»                | max 180   |
| 5   | Фраза при неуспешной оплате | —                    | «Фраза робота, если оплата не прошла в отведённое время» | max 180   |
| 6   | Действие после задачи       | Режим ожидания       | «Что делает робот после завершения задачи оплаты»        | —         |

---

#### Вкладка 5: Маркетинг (marketing) — **Should**

Название вкладки: **«Маркетинг»**

**Warning-блок (вверху вкладки):**
```
border-orange-200 bg-orange-50/50 rounded-lg p-5
├── иконка: alert-triangle, text-orange-500, size=20
├── Заголовок (H4, font-semibold): «Загрузка рекламных материалов»
└── Текст: «Загрузка рекламных материалов (видео, изображения, аудио) производится
    через приложение PuduLink. Обратитесь к инженеру NE для настройки контента.
    В будущем функция будет доступна через iikoSignage.»
```

**Поля формы:**

| #   | Label                         | Контрол      | Default      | Подсказка                                                                       | Валидация                         |
| --- | ----------------------------- | ------------ | ------------ | ------------------------------------------------------------------------------- | --------------------------------- |
| 1   | Робот для маркетинга          | Select       | —            | «Какой робот используется для маркетингового круиза»                            | Список зарегистрированных роботов |
| 2   | Автозапуск круиза при простое | Checkbox     | **Выключен** | «Автоматически запускать маркетинговый круиз, если у робота нет активных задач» | —                                 |
| 3   | Запуск по таймеру             | Checkbox     | **Выключен** | «Запускать маркетинговый круиз в заданное время»                                | —                                 |
| 4   | Время начала                  | Input (time) | —            | «Время начала маркетингового режима»                                            | HH:MM                             |
| 5   | Время окончания               | Input (time) | —            | «Время окончания маркетингового режима»                                         | HH:MM, >= начала                  |

**Условная видимость**: поля 4 и 5 отображаются **только** при включённом чекбоксе «Запуск по таймеру» (с `animate-fade-in`).

---

#### Вкладка 6: Общие — **Should**

Название вкладки: **«Общие»**

| #   | Label              | Контрол | Default     | Подсказка                                                             |
| --- | ------------------ | ------- | ----------- | --------------------------------------------------------------------- |
| 1   | Робот по умолчанию | Select  | BellaBot-01 | «Робот, который будет использоваться по умолчанию при создании задач» |

Select содержит список всех зарегистрированных роботов (name + id).

---

**Состояния экрана Э4:**

| Состояние           | UI                                                                                             |
| ------------------- | ---------------------------------------------------------------------------------------------- |
| **Нет робота**      | Текст по центру `text-gray-400 text-sm`: **«Зарегистрируйте робота для настройки параметров»** |
| **Загрузка**        | Спиннер `loader-2` по центру                                                                   |
| **Контент**         | Вкладки с формой, `animate-fade-in`                                                            |
| **Ошибка загрузки** | UiAlert (красный): **«Не удалось загрузить настройки. Попробуйте обновить страницу»**          |

---

## 7. Toast-уведомления (полный реестр)

Контейнер toast: `fixed bottom-4 right-4 z-50 space-y-2`.

Каждый toast: `rounded-lg border border-gray-200 bg-white px-4 py-3 shadow-lg min-w-[300px] animate-slide-up`.

| #   | Экран | Триггер             | Текст Title                                                             | Длительность |
| --- | ----- | ------------------- | ----------------------------------------------------------------------- | ------------ |
| 1   | Э1    | Удаление робота     | «Робот удалён»                                                          | 3 сек        |
| 2   | Э2    | Регистрация робота  | «Робот успешно зарегистрирован»                                         | 3 сек        |
| 3   | Э3    | Сохранение маппинга | «Маппинг сохранён»                                                      | 3 сек        |
| 4   | Э3    | Обновление точек    | «Список точек обновлён»                                                 | 3 сек        |
| 5   | Э3    | Тест: робот offline | «Робот не в сети. Проверьте подключение робота»                         | 4 сек        |
| 6   | Э3    | Тест: ошибка        | «Робот не смог выполнить команду. Проверьте маппинг и состояние робота» | 4 сек        |
| 7   | Э4    | Сохранение настроек | «Изменения сохранены»                                                   | 3 сек        |

---

## 8. Confirm-диалоги (полный реестр)

| #   | Экран | Триггер                        | Заголовок                 | Текст                                                                            | Кнопки                                               |
| --- | ----- | ------------------------------ | ------------------------- | -------------------------------------------------------------------------------- | ---------------------------------------------------- |
| 1   | Э1    | Клик «Удалить»                 | «Удалить робота»          | «Удалить робота {name}? Все настройки маппинга для этого робота будут потеряны.» | **«Удалить»** (destructive) / **«Отмена»** (outline) |
| 2   | Э4    | Смена вкладки с несохранёнными | «Несохранённые изменения» | «Сохранить перед переходом?»                                                     | **«Сохранить»** / **«Не сохранять»** / **«Отмена»**  |

---

## 9. Анимации

| Анимация           | CSS-класс           | Применение                            |
| ------------------ | ------------------- | ------------------------------------- |
| Появление контента | `animate-fade-in`   | Таблицы, формы при загрузке           |
| Появление toast    | `animate-slide-up`  | Toast снизу-справа                    |
| Спиннер загрузки   | `animate-spin`      | `loader-2`, `refresh-cw` при загрузке |
| Hover transition   | `transition-colors` | Строки таблиц, пункты sidebar         |

**CSS для кастомных анимаций:**

```css
@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}
```

---

## 10. Accessibility

| Паттерн               | Реализация                                                                                                  |
| --------------------- | ----------------------------------------------------------------------------------------------------------- |
| `aria-label`          | На всех кнопках: «Добавить робота», «Удалить робота {name}», «Тест маппинга стола {name}», «Обновить точки» |
| `aria-current="page"` | На активном пункте sidebar                                                                                  |
| `aria-expanded`       | На toggle уборки (Ручной/Авто), на вкладках                                                                 |
| `role="status"`       | На пустых состояниях экранов                                                                                |
| `role="navigation"`   | На sidebar                                                                                                  |
| `sr-only`             | Дублирование визуальной информации текстом для screen readers                                               |
| Esc                   | Закрытие модальных окон и confirm-диалогов                                                                  |
| Tab trap              | Внутри модальных окон фокус не уходит за пределы                                                            |

---

## 11. Файловая структура проекта

```
app/
├── layout.tsx           // Layout: header + sidebar + main area
├── page.tsx             // Redirect → /robots
├── globals.css          // Tailwind + кастомные анимации
├── robots/
│   └── page.tsx         // Э1: Список роботов
├── mapping/
│   └── page.tsx         // Э3: Маппинг столов к точкам
└── settings/
    └── page.tsx         // Э4: Настройки сценариев

components/
├── layout/
│   ├── header.tsx
│   ├── sidebar.tsx
│   └── subheader.tsx
├── robots/
│   ├── robots-table.tsx
│   └── robot-register-modal.tsx   // Э2: Регистрация робота
├── mapping/
│   ├── mapping-table.tsx
│   ├── point-select.tsx
│   └── test-button.tsx
├── settings/
│   ├── settings-tabs.tsx
│   ├── tab-send-menu.tsx
│   ├── tab-send-dish.tsx
│   ├── tab-cleanup.tsx
│   ├── tab-qr-payment.tsx
│   ├── tab-marketing.tsx
│   └── tab-general.tsx
├── shared/
│   ├── phrase-input.tsx     // Input с счётчиком символов (max 180)
│   ├── confirm-dialog.tsx
│   └── status-badge.tsx
└── ui/                      // shadcn/ui компоненты
    ├── button.tsx
    ├── input.tsx
    ├── label.tsx
    ├── select.tsx
    ├── dialog.tsx
    ├── tabs.tsx
    ├── badge.tsx
    ├── alert.tsx
    ├── switch.tsx
    ├── checkbox.tsx
    ├── table.tsx
    ├── toaster.tsx
    └── tooltip.tsx

lib/
├── mock-data.ts             // Все mock-данные (роботы, точки, столы, настройки)
├── types.ts                 // TypeScript интерфейсы
└── utils.ts                 // Вспомогательные функции

hooks/
├── use-toast.ts
└── use-unsaved-changes.ts   // Отслеживание несохранённых изменений
```

---

## 12. Технические детали

### 12.1. Зависимости

- **Next.js 15+** (App Router)
- **React 19+**
- **TypeScript**
- **Tailwind CSS v4**
- **shadcn/ui** компоненты: button, input, label, select, dialog, tabs, badge, alert, switch, checkbox, table, toaster, tooltip
- **Lucide React** (иконки)

### 12.2. Шрифты

```css
:root {
  --font-sans: "Geist", "Geist Fallback", sans-serif;
  --font-mono: "Geist Mono", "Geist Mono Fallback", monospace;
}
```

### 12.3. Цветовые токены CSS

```css
:root {
  --background: theme(colors.gray.50);
  --foreground: theme(colors.gray.900);
  --card: #ffffff;
  --border: theme(colors.gray.200);
  --sidebar: theme(colors.slate.50);
  --primary: theme(colors.blue.600);
  --primary-hover: theme(colors.blue.700);
  --destructive: theme(colors.red.600);
  --iiko-brand: #E94B35;
}
```

### 12.4. Функциональные требования

1. **Полная интерактивность**: Все формы валидируются, данные сохраняются в state, таблицы обновляются
2. **Навигация**: Клик по sidebar переключает страницы; активный пункт подсвечен
3. **Имитация загрузки**: При первом входе на каждый экран — спиннер 1 сек, затем `animate-fade-in`
4. **Toast-уведомления**: shadcn Toaster, правый нижний угол
5. **Confirm-диалоги**: Для удаления робота и ухода с несохранёнными данными
6. **Валидация в реальном времени**:
   - Поля фраз: счётчик символов, ошибка при > 180
   - Числовые поля: > 0, целые, диапазоны
   - Обязательные поля: звёздочка + проверка при blur
7. **Responsive**: Sidebar скрывается на мобильных, контент адаптируется

### 12.5. UI/UX детали

- Все тексты на **русском языке**
- Красные звёздочки `*` для обязательных полей
- Hover-эффекты на всех интерактивных элементах (`transition-colors`, 150ms)
- Sticky header и footer в модальных окнах
- `overflow-y-auto` для длинного контента
- Формы ограничены `max-w-2xl` для читаемости
- Таблицы — на всю ширину контента (без `max-w`)

---

## 13. Компонент PhraseInput (переиспользуемый)

Используется во всех полях фраз робота (6+ полей на вкладках настроек).

```typescript
interface PhraseInputProps {
  label: string;
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  hint?: string;          // Подсказка под полем
  maxLength?: number;     // Default: 180
  required?: boolean;
}
```

**Визуализация:**
```
┌──────────────────────────────────────────┐
│ [Label] *                                │  ← text-sm font-medium text-gray-700
├──────────────────────────────────────────┤
│ Input (text, h-9, border-gray-300)       │  ← border-red-500 при ошибке
├──────────────────────────────────────────┤
│ Подсказка text-xs text-gray-400          │  ← hint
│ 45 / 180                                 │  ← счётчик, красный при >180
│ Превышен лимит 180 символов              │  ← text-sm text-red-600 (только при ошибке)
└──────────────────────────────────────────┘
```

---

## 14. Итоговый чеклист прототипа

### Layout и навигация
- [ ] Header: логотип iiko + профиль «Администратор»
- [ ] Sidebar: 3 пункта (Роботы PUDU, Маппинг столов, Настройки роботов)
- [ ] Sidebar: активный пункт — `bg-blue-50 text-blue-700`
- [ ] Footer sidebar: «© 2026 iiko / ver: 9.6.1.240000»
- [ ] Subheader с H1 и кнопками на каждой странице
- [ ] Навигация между страницами через sidebar

### Экран Э1: Список роботов
- [ ] Таблица: 6 столбцов (Имя, ID, Регион, Статус, Карта, Действия)
- [ ] Бейджи статусов: online (зелёный), offline (серый), ошибка (оранжевый)
- [ ] Кнопка «Добавить робота» → открывает модалку Э2
- [ ] Кнопка «Удалить» → Confirm dialog → Toast
- [ ] 3 mock-робота в таблице
- [ ] Пустое / Загрузка / Ошибка состояния

### Экран Э2: Регистрация робота
- [ ] Модальное окно с 4 полями (Регион, Имя, ID, Ключ)
- [ ] Валидация обязательных полей (звёздочки, border-red)
- [ ] Состояния: начальное, заполнение, отправка, успех, ошибки
- [ ] Имитация ошибок (PD000ERROR → не найден, дубликат ID)
- [ ] Toast при успехе, Alert при ошибке

### Экран Э3: Маппинг столов
- [ ] Select робота (если > 1)
- [ ] Таблица маппинга: Стол, Точки (select), Тип, Статус, Действия
- [ ] Бейджи типов точек (5 типов с цветами)
- [ ] Warning-блоки (столы без привязки, точки без стола)
- [ ] Кнопка «+ Точку» — добавить привязку
- [ ] Кнопка «Тест» у каждой привязанной точки (per-point, не per-row) — имитация тестовой команды
- [ ] Кнопка «Обновить точки» → спиннер → Toast
- [ ] Sticky footer: «Сохранить» / «Сбросить»
- [ ] 8 mock-столов (5 замаплены, 3 нет)

### Экран Э4: Настройки сценариев
- [ ] 6 вкладок: Доставка меню, Доставка блюд, Уборка посуды, Оплата по QR, Маркетинг, Общие
- [ ] Вкладка 1: 3 поля (фраза, время, действие после)
- [ ] Вкладка 2: 6 полей (макс. блюд, 3 фразы, время, действие)
- [ ] Вкладка 3: Toggle ручной/авто + 3-5 полей + секция «Автоматический режим»
- [ ] Вкладка 4: 2 секции (Кассир + Гость) с H3
- [ ] Вкладка 5: Warning про PuduLink + чекбоксы + условная видимость таймеров
- [ ] Вкладка 6: Select робота по умолчанию
- [ ] Счётчики символов «N / 180» на всех полях фраз
- [ ] Валидация числовых полей (> 0, <= 20 для блюд)
- [ ] Sticky footer: «Сохранить» / «Сбросить»
- [ ] Confirm при смене вкладки с несохранёнными

### Общее
- [ ] Все тексты на русском
- [ ] Toast-уведомления (7 типов)
- [ ] Confirm-диалоги (2 типа)
- [ ] Анимации: fade-in, slide-up, spin
- [ ] Accessibility: aria-labels, role, keyboard navigation
- [ ] Responsive layout
- [ ] Mock-данные реалистичные
- [ ] Все инпуты с подсказками `text-xs text-gray-400`

---

**ВАЖНО**: Используй этот промт полностью, не упускай детали. Все компоненты должны работать вместе как единая система администрирования роботов PUDU для ресторана iiko. Каждый экран, каждое поле, каждый toast-текст описан в промте конкретно и должен быть реализован точно по спецификации.

---

## История изменений

| Версия | Дата       | Автор        | Описание                                           |
| ------ | ---------- | ------------ | -------------------------------------------------- |
| 1.0    | 2026-02-11 | Кирилл Тюрин | Первичная версия промта (задача Б7 из Плана работ) |
| 1.1    | 2026-02-11 | Кирилл Тюрин | Верификация Б7.4: исправлена типографика (+H4, Card title, Section label, Подпись, Курсив), добавлены пропущенные токены цветов (text-gray-800, border-gray-300 vs border-gray-200, Selected-фон), добавлены space-y-3/space-y-1/gap-2, исправлена валидация (blur -> реальное время), исправлена кнопка «Тест» (per-point вместо per-row) |
